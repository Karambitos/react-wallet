"use strict";(self.webpackChunkreact_wallet=self.webpackChunkreact_wallet||[]).push([[605],{2605:function(e,t,n){n.r(t),n.d(t,{default:function(){return Ye}});var a,r,s=n(9434),c=n(9439),l=n(5861),i=n(7757),o=n.n(i),d=n(2791),u=n(4805),m=n(3997),f=n(9167),h=n(8418),_=["title","titleId"];function b(){return b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},b.apply(this,arguments)}function p(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function x(e,t){var n=e.title,s=e.titleId,c=p(e,_);return d.createElement("svg",b({width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":s},c),n?d.createElement("title",{id:s},n):null,a||(a=d.createElement("g",{clipPath:"url(#clip0_37400_43)"},d.createElement("path",{d:"M10.5 5.83343L8.16666 3.5001M1.45831 12.5418L3.43253 12.3224C3.67373 12.2956 3.79433 12.2822 3.90706 12.2457C4.00707 12.2133 4.10224 12.1676 4.19 12.1097C4.28891 12.0445 4.37471 11.9587 4.54632 11.7871L12.25 4.08343C12.8943 3.4391 12.8943 2.39443 12.25 1.75009C11.6057 1.10576 10.561 1.10576 9.91666 1.75009L2.21299 9.45375C2.04138 9.62536 1.95558 9.71116 1.89035 9.81008C1.83248 9.89783 1.78674 9.99301 1.75436 10.093C1.71787 10.2057 1.70447 10.3263 1.67767 10.5675L1.45831 12.5418Z",stroke:"black",strokeOpacity:.8,strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"}))),r||(r=d.createElement("defs",null,d.createElement("clipPath",{id:"clip0_37400_43"},d.createElement("rect",{width:14,height:14,fill:"white"})))))}var j,v,y=d.forwardRef(x),N=(n.p,n(1413)),g=n(5987),C="IconButton_iconButton__tzuy9",E="IconButton_iconButtonContainer__5Jo04",T=n(3329),w=["children","onClick"],M=function(e){var t=e.children,n=e.onClick,a=(0,g.Z)(e,w);return(0,T.jsx)("button",(0,N.Z)((0,N.Z)({className:C,onClick:n},a),{},{children:(0,T.jsx)("div",{className:E,children:t})}))},k="TransactionsList_transactionsTableWrapper__mxyjk",L="TransactionsList_transactionsTable__j23tw",I="TransactionsList_thead__QSqri",S="TransactionsList_th__0-ZBr",O="TransactionsList_td__YUqB+",D="TransactionsList_tbody__whe48",Z="TransactionsList_tr__9mNa4",P="TransactionsList_tableButton__zEJeH",B="TransactionsList_mobileTransactionsList__Q2dgA",Y="TransactionsList_mobileTransactionsItem__dP0LE",q="TransactionsList_mobileTransaction__YYnNX",F="TransactionsList_income__yw5V+",W="TransactionsList_expense__m40VH",A="TransactionsList_mobileTransList__title__GMrxG",H="TransactionsList_editButtonTitle__Gk3r3",X=n(9882),Q=n(4942),U=n(4164),V=n(2426),J=n.n(V),R="ModalTransaction_overlay__hQEDk",G="ModalTransaction_modalAddTrans__hm9M9",z="ModalTransaction_closeButton__yJ7hv",K="ModalTransaction_closeButtonIcon__92ME2",$="ModalTransaction_title__S85SL",ee="ModalTransaction_form__oJH3+",te="ModalTransaction_inputsWrapper__XCx1n",ne="ModalTransaction_toggleContainer__yELcb",ae="ModalTransaction_toggleText__9vWea",re="ModalTransaction_activeExpense__a1uFB",se="ModalTransaction_activeIncome__7bw92",ce="ModalTransaction_selectorWrapper__F5v7T",le="ModalTransaction_numberAndCalendarWrapper__v+1aX",ie="ModalTransaction_inputNumber__S49UI",oe="ModalTransaction_datePickerContainer__lMq1l",de="ModalTransaction_inputCalendar__0cq86",ue="ModalTransaction_inputComment__aEdAs",me="ModalTransaction_buttonsContainer__6Imrq",fe="ModalTransaction_buttonAdd__aP8Fa",he="ModalTransaction_buttonAddName__aSJH0",_e="ModalTransaction_buttonCancel__6rWf+",be="ModalTransaction_buttonCancelName__Bi5QB",pe=n(1799),xe=n.n(pe),je=(n(1778),"DatePicker_datePickerIcon__qqqi1"),ve=n(7887),ye=function(e){var t=e.onSelect;return(0,T.jsx)(xe(),{renderInput:function(e,t){return(0,T.jsx)(ve.r,{onClick:t,className:je})},closeOnSelect:!0,onChange:function(e){t(e.format("DD.MM.YYYY"))},timeFormat:!1})},Ne=n(3879),ge=[{value:"c9d9e447-1b83-4238-8712-edc77b18b739",label:"Main Expenses"},{value:"27eb4b75-9a42-4991-a802-4aefe21ac3ce",label:"Products"},{value:"bbdd58b8-e804-4ab9-bf4f-695da5ef64f4",label:"Self care"},{value:"3caa7ba0-79c0-40b9-ae1f-de1af1f6e386",label:"Car"},{value:"76cc875a-3b43-4eae-8fdb-f76633821a34",label:"Child care"},{value:"128673b5-2f9a-46ae-a428-ec48cf1effa1",label:"Household products"},{value:"1272fcc4-d59f-462d-ad33-a85a075e5581",label:"Education"},{value:"c143130f-7d1e-4011-90a4-54766d4e308e",label:"Leisure"},{value:"719626f1-9d23-4e99-84f5-289024e437a8",label:"Other expenses"},{value:"3acd0ecd-5295-4d54-8e7c-d3908f4d0402",label:"Entertainment"},{value:"063f1132-ba5d-42b4-951d-44011ca46262",label:"Income"}],Ce={control:function(e){return(0,N.Z)((0,N.Z)({},e),{},{borderRadius:"0",borderColor:"grey","&:hover":{borderColor:"grey"}})},option:function(e,t){return(0,N.Z)((0,N.Z)({},e),{},{backgroundColor:t.isSelected?"blue":"white",color:t.isSelected?"white":"black","&:hover":{backgroundColor:t.isSelected?"blue":"#f2f2f2"}})}},Ee=function(e){var t=e.defaultInputValue,n=e.onSelect,a=ge.find((function(e){return e.value===t}));return(0,T.jsx)(Ne.ZP,{onChange:function(e){n(e.value)},defaultValue:a,options:ge,styles:Ce})},Te=n(5313),we=function(e){var t=e.onClose,n=e.transaction,a=(0,d.useState)(J()(n.transactionDate,"YYYY-MM-DD").format("YYYY-MM-DD")),r=(0,c.Z)(a,2),l=r[0],i=r[1],o=(0,d.useState)(!0),u=(0,c.Z)(o,2),f=u[0],h=u[1],_=(0,d.useState)(n.categoryId),b=(0,c.Z)(_,2),p=b[0],x=b[1],j=(0,d.useState)({type:n.type||"",amount:n.amount,transactionDate:n.transactionDate||"",comment:n.comment||""}),v=(0,c.Z)(j,2),y=v[0],g=v[1],C=(0,s.I0)(),E=function(e){var t=e.target,n=t.name,a=t.value;g((function(e){return(0,N.Z)((0,N.Z)({},e),{},(0,Q.Z)({},n,a))}))},w=function(){h(!f),g((function(e){return(0,N.Z)((0,N.Z)({},e),{},{type:"INCOME"===e.type?"EXPENSE":"INCOME"})}))};(0,d.useEffect)((function(){var e=function(e){"Escape"===e.key&&t()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[]);var M=f?"EXPENSE":"INCOME",k=parseInt(y.amount);return U.createPortal((0,T.jsx)("div",{className:R,children:(0,T.jsxs)("div",{className:G,children:[(0,T.jsx)("button",{className:z,type:"button",onClick:t,children:(0,T.jsx)(Te.r,{className:K})}),(0,T.jsx)("h1",{className:$,children:"Edit transaction"}),(0,T.jsxs)("div",{className:ne,children:[(0,T.jsx)("span",{onClick:w,className:"".concat(ae," ").concat(f?"":se),children:"Income"}),(0,T.jsx)("span",{onClick:w,className:"".concat(ae," ").concat(f?re:""),children:"Expense"})]}),(0,T.jsxs)("form",{className:ee,onSubmit:function(e){e.preventDefault();var t={transactionDate:y.transactionDate,type:M,categoryId:p,comment:y.comment,amount:k};C((0,m.ii)({transactionId:n.id,credentials:t}))},children:[(0,T.jsxs)("div",{className:te,children:[f&&(0,T.jsx)("div",{className:ce,children:(0,T.jsx)(Ee,{defaultInputValue:n.categoryId,onSelect:function(e){x(e)}})}),(0,T.jsxs)("div",{className:le,children:[(0,T.jsx)("input",{className:ie,type:"number",placeholder:"0.00",required:!0,value:y.amount,name:"amount",onChange:E}),(0,T.jsxs)("div",{className:oe,children:[(0,T.jsx)("input",{className:de,value:l,onChange:i}),(0,T.jsx)(ye,{onSelect:function(e){i(e)}})]})]}),(0,T.jsx)("input",{type:"text",className:ue,placeholder:"Comment",value:y.comment,required:!0,name:"comment",onChange:E})]}),(0,T.jsxs)("div",{className:me,children:[(0,T.jsx)("button",{type:"submit",className:fe,children:(0,T.jsx)("span",{className:he,children:"Edit"})}),(0,T.jsx)("button",{type:"button",className:_e,children:(0,T.jsx)("span",{className:be,children:"Cancel"})})]})]})]})}),document.getElementById("modalEditTransaction"))},Me=function(){var e=(0,s.I0)(),t=(0,s.v9)(h.xU),n=(0,s.v9)(h.xc);(0,d.useEffect)((function(){e((0,m.mI)())}),[]);var a=function(e){return"EXPENSE"===e?"-":"+"},r=function(e){return{className:"EXPENSE"===e?W:F,color:"EXPENSE"===e?"#FF6596":"#24CCA7"}},i=function(e){switch(e){case"c9d9e447-1b83-4238-8712-edc77b18b739":return"Main Expenses";case"27eb4b75-9a42-4991-a802-4aefe21ac3ce":return"Products";case"bbdd58b8-e804-4ab9-bf4f-695da5ef64f4":return"Self care";case"3caa7ba0-79c0-40b9-ae1f-de1af1f6e386":return"Car";case"76cc875a-3b43-4eae-8fdb-f76633821a34":return"Child care";case"128673b5-2f9a-46ae-a428-ec48cf1effa1":return"Household products";case"1272fcc4-d59f-462d-ad33-a85a075e5581":return"Education";case"c143130f-7d1e-4011-90a4-54766d4e308e":return"Leisure";case"719626f1-9d23-4e99-84f5-289024e437a8":return"Other expenses";case"3acd0ecd-5295-4d54-8e7c-d3908f4d0402":return"Entertainment";case"063f1132-ba5d-42b4-951d-44011ca46262":return"Income";default:return}},_=function(e){var t=Math.abs(e).toFixed(2),n=new Intl.NumberFormat("en-US").format(t).replaceAll(","," "),a=t.split(".")[1]||"00";return"".concat(n,".").concat(a)},b=function(){var t=(0,l.Z)(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e((0,m.v8)(n));case 2:e((0,f.ts)());case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=(0,u.useMediaQuery)({query:"(max-width: 767.98px)"}),x=(0,u.useMediaQuery)({query:"(min-width: 768px)"}),j=(0,d.useState)(null),v=(0,c.Z)(j,2),N=v[0],g=v[1],C=(0,d.useState)(!1),E=(0,c.Z)(C,2),w=E[0],Q=E[1];return(0,T.jsxs)(T.Fragment,{children:[t&&(0,T.jsx)(X.Z,{}),x&&(0,T.jsx)("div",{className:k,children:(0,T.jsxs)("table",{className:L,children:[(0,T.jsx)("thead",{className:I,children:(0,T.jsxs)("tr",{className:Z,children:[(0,T.jsx)("th",{className:S,children:"Date"}),(0,T.jsx)("th",{className:S,children:"Type"}),(0,T.jsx)("th",{className:S,children:"Category"}),(0,T.jsx)("th",{className:S,children:"Comment"}),(0,T.jsx)("th",{className:"".concat(S," textAlignL"),children:"Sum"}),(0,T.jsx)("th",{className:S})]})}),(0,T.jsx)("tbody",{className:D,children:n.map((function(e){return(0,T.jsxs)("tr",{className:Z,children:[(0,T.jsx)("td",{className:O,children:new Date(e.transactionDate).toLocaleDateString("ru-RU",{year:"2-digit",month:"2-digit",day:"2-digit"})}),(0,T.jsx)("td",{className:O,children:a(e.type)}),(0,T.jsx)("td",{className:O,children:i(e.categoryId)}),(0,T.jsx)("td",{className:O,children:e.comment}),(0,T.jsx)("td",{className:O,style:{color:r(e.type).color,fontWeight:"700"},children:_(e.amount)}),(0,T.jsxs)("td",{className:"".concat(S," cell textAlignL"),children:[(0,T.jsx)(M,{type:"button","aria-label":"edit",onClick:function(){return function(e){g(e),Q(!0)}(e)},children:(0,T.jsx)(y,{})}),(0,T.jsx)("button",{disabled:t,onClick:function(){return b(e.id)},className:"".concat(P," button button button--small"),children:"Delete"})]})]},e.id)}))})]})}),p&&(0,T.jsx)("ul",{className:B,children:n.map((function(e){return(0,T.jsx)("li",{className:Y,children:(0,T.jsxs)("ul",{className:"".concat(q,"  ").concat(r(e.type).className),children:[(0,T.jsxs)("li",{children:[(0,T.jsx)("span",{className:A,children:"Date"})," ",(0,T.jsx)("span",{children:new Date(e.transactionDate).toLocaleDateString("ru-RU",{year:"2-digit",month:"2-digit",day:"2-digit"})})]}),(0,T.jsxs)("li",{children:[(0,T.jsx)("span",{className:A,children:"Type"})," ",(0,T.jsx)("span",{children:a(e.type)})]}),(0,T.jsxs)("li",{children:[(0,T.jsx)("span",{className:A,children:"Category"})," ",(0,T.jsx)("span",{children:i(e.categoryId)})]}),(0,T.jsxs)("li",{children:[(0,T.jsx)("span",{className:A,children:"Comment"})," ",(0,T.jsx)("span",{children:e.comment})]}),(0,T.jsxs)("li",{children:[(0,T.jsx)("span",{className:A,children:"Sum"})," ",(0,T.jsx)("span",{style:{color:r(e.type).color,fontWeight:"700"},children:_(e.amount)})]}),(0,T.jsxs)("li",{children:[(0,T.jsx)("button",{type:"button",className:"".concat(P," button button button--small"),onClick:function(){return b(e.id)},children:"Delete"}),(0,T.jsx)("div",{children:(0,T.jsxs)(M,{type:"button","aria-label":"edit",children:[(0,T.jsx)(y,{}),(0,T.jsx)("span",{className:H,children:"Edit"})]})})]})]})},e.id)}))}),N&&(0,T.jsx)(we,{isOpen:w,onClose:function(){Q(!1),g(null)},transaction:N})]})},ke=n(9260),Le=["title","titleId"];function Ie(){return Ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ie.apply(this,arguments)}function Se(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Oe(e,t){var n=e.title,a=e.titleId,r=Se(e,Le);return d.createElement("svg",Ie({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},r),n?d.createElement("title",{id:a},n):null,j||(j=d.createElement("path",{d:"M10 0V20",stroke:"white",strokeWidth:2})),v||(v=d.createElement("path",{d:"M0 10L20 10",stroke:"white",strokeWidth:2})))}var De=d.forwardRef(Oe),Ze=(n.p,"HomeTab_containerBtn__5TiLn"),Pe="HomeTab_btnPlus__7CsZD",Be=function(){var e=(0,s.I0)();return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(Me,{}),(0,T.jsx)("div",{className:Ze,children:(0,T.jsx)("button",{type:"button",className:Pe,onClick:function(){e((0,ke.u)(!0))},children:(0,T.jsx)(De,{})})})]})},Ye=function(){return(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(Be,{})})}}}]);
//# sourceMappingURL=605.bef0c5f2.chunk.js.map